let canvas,canvasContext,centerScreenX,centerScreenY,framesPerSecond=60;const stars=[],numberOfStars=150,maxStarSize=4,maxStarSpeed=300,backgroundColor="black";function getViewportDimension(){let t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{w:t[e+"Width"],h:t[e+"Height"]}}function setup(){canvas=document.getElementById("gameCanvas");let t=getViewportDimension();canvas.width=t.w,canvas.height=t.h-220,canvasContext=canvas.getContext("2d"),centerScreenX=canvas.width/2,centerScreenY=canvas.height/2,drawEverything(),moveEverything()}function moveEverything(){stars.forEach((t=>t.move()))}function drawEverything(){canvasContext.fillStyle=backgroundColor,canvasContext.fillRect(0,0,canvas.width,canvas.height),stars.length<=numberOfStars&&stars.push(new Star),stars.forEach((t=>t.draw()))}function getRandomFloat(t,e){return Math.random()*(e-t+1)+t}function angle(t,e,s,a){var i=a-e,n=s-t;return Math.atan2(i,n)}function scale(t,e,s,a,i){return(s-e)*(t-a)/(i-a)+e}window.onload=function(){setup(),setInterval((function(){drawEverything(),moveEverything()}),1e3/framesPerSecond)};class Vector{constructor(t,e){this.x=t||0,this.y=e||0}}class Star{constructor(){this.pos=new Vector,this.vel=new Vector,this.rad=new Vector,this.speed,this.radius,this.color,this.reset()}setStarBoarder(){this.top=this.pos.y-this.radius,this.bottom=this.pos.y+this.radius,this.left=this.pos.x-this.radius,this.right=this.pos.x+this.radius}updateColor(){const t=scale(this.radius,130,255,.01,4),e=scale(this.radius,1,100,.01,4);this.color="hsl("+t+", 50%, "+e+"%)"}draw(){this.updateColor(),canvasContext.fillStyle=this.color,canvasContext.beginPath(),canvasContext.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI,!0),canvasContext.fill()}move(){this.checkForBoarderHit()&&this.reset(),this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.radius<4&&(this.radius+=.02),this.speed<300&&(this.speed+=2,this.vel.x=this.rad.x*this.speed/framesPerSecond,this.vel.y=this.rad.y*this.speed/framesPerSecond),this.setStarBoarder()}reset(){this.radius=getRandomFloat(.01,1),this.updateColor(),this.speed=1,this.pos.x=getRandomFloat(0,canvas.width),this.pos.y=getRandomFloat(0,canvas.height);let t=angle(centerScreenX,centerScreenY,this.pos.x,this.pos.y);this.rad.x=Math.cos(t),this.rad.y=Math.sin(t),this.vel.x=this.rad.x*this.speed/framesPerSecond,this.vel.y=this.rad.y*this.speed/framesPerSecond}checkForBoarderHit(){return this.top<=0||this.bottom>=canvas.height||this.right>=canvas.width||this.left<=0}}